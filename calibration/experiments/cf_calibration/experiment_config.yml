prior_path: prior_prognostic_pi_entr_smooth_entr_detr_impl_dev.toml
ensemble_size: 10
# ensemble_size: 200
n_iterations: 12
batch_size: 3 # number of cases per iteration
# batch_size: 10 # number of cases per iteration
# model_config : model_config_prognostic.yml # options {model_config_prognostic.yml, model_config_diagnostic.yml}
model_config : model_config_prognostic_impl.yml
# model_config : model_config_prognostic.yml
# output_dir : /central/scratch/cchristo/debug/exp36_eqn1_tke
# output_dir : /groups/esm/cchristo/climaatmos_scm_calibrations/output_ml_mix_v4/exp13_nn_all_params_ind_noise
# output_dir : /groups/esm/cchristo/climaatmos_scm_calibrations/output_ml_mix_v5/exp3_nn_all_params_ind_noise
# output_dir : /groups/esm/cchristo/climaatmos_scm_calibrations/output_ml_mix_v5/exp4_nn_all_params_hess_noise
output_dir : /resnick/groups/esm/jschmitt/climaatmos_scm_calibrations/output_cf_ml_v1/exp2

# Slurm resource configuration
slurm_time: "14:00:00"
slurm_mem_per_cpu: "25G"
slurm_cpus_per_task: 1

# y_var_names: [thetaa, hus, clw]  # calibration variables clw clw]
y_var_names: [thetaa, hus]  # calibration variables clw clw]
log_vars: ["clw"] # take log(var) when forming y, g
# log_vars: []

nice_loc_ug: 0.01
nice_loc_gg: 0.5

z_max: null
z_cal_grid: # calibration grid (stretch-grid parameters). In general, `z_elem` should be the same for all types
  shallow:
    z_max: 4000.0
    z_elem: 30
    dz_bottom: 30
  deep:
    z_max: 15000.0
    z_elem: 30
    dz_bottom: 30
dims_per_var : 30 # num dimensions per variable (num cells in vertical profile below z_max)
# eki_timestep: 0.1 # timestep of eki, if using default

y_t_start_sec: # start time of LES averaging window [s]
  shallow: 475200.0 # 5.5 days
  deep: 302400.0 # 3.5 days
y_t_end_sec: # end time of LES averaging window [s]
  shallow: 518400.0 # 6 days (LES length = 6 days)
  deep: 345600.0 # 4 days (LES length = 4 days)
g_t_start_sec: 216000.0 # start time of SCM averaging window [s] : 2.5 days
g_t_end_sec: 259200.0 # end time of SCM averaging window [s] : 3 days (SCM length = 3 days)

norm_factors_by_var:
  thetaa: [301.218, 15.235]
  hus: [0.00672, 0.00477]
  clw: [-9.579, 3.164] # log norm factors
  # cli: [-11.697, 1.304] # log norm factors

const_noise_by_var:
  thetaa: 0.0005
  hus: 0.0005
  clw: 0.0045
  # thetaa: 0.0016
  # hus: 0.0016
  # clw: 0.0045
  # clw: 0.0016
  # cli: 0.01
  # thetaa: 0.0008
  # hus: 0.0008
  # clw: 0.0035

# pretrained_nn_path: "/home/cchristo/ml_mixing_length/nn_666p_leaky_relu.jld2"
# pretrained_nn_path: "/home/cchristo/ml_mixing_length/nn_666p_leaky_relu_lux.bson"
# pretrained_nn_path: "/home/cchristo/ml_mixing_length/prior_hess_ollie/data/prior_network_generator_hess-gauss.bson"
  # :reconstructor => Restructure(NamedTuple, ..., 666)
  # :mean_vec      => Float32[0.0231276, -0.0161952, 0.00883911, 0.490049, 0.00326667, 0.00178532, 0.250688, 0.00407117, -0.003050…
  # :sqrt_cov_mat  => Float32[-0.000131849 1.87868f-5 … 2.18495f-7 -1.11167f-6; 1.87832f-5 -2.71298f-6 … -1.92144f-8 1.79404f-7; ……
  # :instructions
# Config files for deep and shallow cases
forcing_toml_files:
  shallow: "scm_tomls/gcmdriven_relaxation_shallow_forcing.toml"
  deep: "scm_tomls/gcmdriven_relaxation_deep_forcing.toml"