prior_path: priors/prior_diagnostic_pi_entr_smooth_entr_detr_coarse_amip_new.toml
ensemble_size: 100
n_iterations: 10
batch_size: 3 # number of cases per iteration
model_config : diagnostic_edmfx_diurnal_scm_imp.yml
output_dir : /central/groups/esm/jschmitt/calibrations/diurnal_diag_3 # output dir

# Slurm resource configuration
slurm_time: "12:00:00"
slurm_mem_per_cpu: "25G"
slurm_cpus_per_task: 1


y_var_names: [lwp, clivi] # calibration variables clw
log_vars: [""] # take log(var) when forming y, g
z_max : 4000 # spatial subsetting: use statistics from [0, z_max] (in [m]) for calibration
dims_per_var : 1 # num dimensions per variable (num cells in vertical profile below z_max)
# don't need to specify z_cal_grid for 0D profiles
# z_cal_grid: # calibration grid (stretch-grid parameters). In general, `z_elem` should be the same for all types
#   shallow:
#     z_max: 4000.0
#     z_elem: 66
#     dz_bottom: 30
#   deep:
#     z_max: 15000.0
#     z_elem: 30
#     dz_bottom: 30


# eki_timestep: 0.1 # timestep of eki, if using default
# start_time : "20070701"

g_t_start_sec : 345600.0 # start time of averaging window [s] : 4 days
# TODO if you change this remember to change the get calibration number or fix the hardcoding 
g_t_end_sec : 950400.0 # end time of averaging window [s] : 11 days
# mean value and standard deviation of profile data
norm_factors_by_var:
  ta: [252.8, 31.1699]
  hus: [0.00203968, 0.00346363]
  clw: [0.000004257, 0.00002] # for physical space
  lwp: [1, 1]
  clivi: [1, 1]
  #clw: [-9.32234, 3.10897] # for log space

# change how we weight the different variables in the loss function. 
covariance_structure: "full_cov"
const_noise_by_var:
  ta: 0.0025 # 5% noise
  hus: 0.0025
  clw: 0.01 # 10% noise 
  lwp: 0.01
  clivi: 0.01

forcing_toml_files:
  shallow: "tomls/shallow_forcing_relaxation.toml"
  deep: "tomls/deep_forcing_relaxation.toml"
