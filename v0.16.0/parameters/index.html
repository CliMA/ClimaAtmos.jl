<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Parameters · ClimaAtmos.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">ClimaAtmos.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../installation_instructions/">Installation instructions</a></li><li><a class="tocitem" href="../contributor_guide/">Contributor Guide</a></li><li><a class="tocitem" href="../equations/">Equations</a></li><li><a class="tocitem" href="../edmf_equations/">EDMF Equations</a></li><li><a class="tocitem" href="../diagnostic_edmf_equations/">Diagnostic EDMF Equations</a></li><li><a class="tocitem" href="../gravity_wave/">Gravity Wave Drag Parameterizations</a></li><li><a class="tocitem" href="../repl_scripts/">REPL scripts</a></li><li><a class="tocitem" href="../config/">Configuration</a></li><li class="is-active"><a class="tocitem" href>Parameters</a><ul class="internal"><li><a class="tocitem" href="#Overview"><span>Overview</span></a></li><li><a class="tocitem" href="#How-to-add-your-own-parameters-to-ClimaAtmos:"><span>How to add your own parameters to ClimaAtmos:</span></a></li><li class="toplevel"><a class="tocitem" href="#After-CLI-Removal:"><span>After CLI Removal:</span></a></li><li class="toplevel"><a class="tocitem" href="#Pre-CLI-removal:"><span>Pre-CLI removal:</span></a></li></ul></li><li><a class="tocitem" href="../api/">API</a></li><li><a class="tocitem" href="../references/">References</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Parameters</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Parameters</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/CliMA/ClimaAtmos.jl/blob/main/docs/src/parameters.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h2 id="Overview"><a class="docs-heading-anchor" href="#Overview">Overview</a><a id="Overview-1"></a><a class="docs-heading-anchor-permalink" href="#Overview" title="Permalink"></a></h2><p>Parameters in ClimaAtmos.jl are handled by <a href="https://github.com/CliMA/CLIMAParameters.jl">CLIMAParameters.jl</a>. The repository stores all default values of parameters used in ClimaAtmos and has various utilities for handling parameters. It allows for easy parameter overriding without needing to change the source code directly. For more information, see the <a href="https://clima.github.io/CLIMAParameters.jl/dev/">docs</a>.</p><h2 id="How-to-add-your-own-parameters-to-ClimaAtmos:"><a class="docs-heading-anchor" href="#How-to-add-your-own-parameters-to-ClimaAtmos:">How to add your own parameters to ClimaAtmos:</a><a id="How-to-add-your-own-parameters-to-ClimaAtmos:-1"></a><a class="docs-heading-anchor-permalink" href="#How-to-add-your-own-parameters-to-ClimaAtmos:" title="Permalink"></a></h2><p>First, create a TOML file with the parameters you want to add/override. Here is the basic format for a single parameter:</p><pre><code class="nohighlight hljs">[descriptive name]
alias = &quot;&lt;short name&gt;&quot;
value = &lt;value&gt;
type = &quot;&lt;type&gt;&quot;</code></pre><p>The possible types are: <code>bool</code>, <code>float</code>, <code>integer</code>, or <code>string</code>.</p><h4 id="Basic-example-for-gravitational-acceleration:"><a class="docs-heading-anchor" href="#Basic-example-for-gravitational-acceleration:">Basic example for gravitational acceleration:</a><a id="Basic-example-for-gravitational-acceleration:-1"></a><a class="docs-heading-anchor-permalink" href="#Basic-example-for-gravitational-acceleration:" title="Permalink"></a></h4><pre><code class="nohighlight hljs">[gravitational_acceleration]
alias = &quot;grav&quot;
value = 9.81
type = &quot;float&quot;</code></pre><p>For more info on formatting the TOML, see <a href="[https:/clima.github.io/CLIMAParameters.jl/dev/toml/](https:/clima.github.io/CLIMAParameters.jl/dev/toml/)">here</a>. </p><h1 id="After-CLI-Removal:"><a class="docs-heading-anchor" href="#After-CLI-Removal:">After CLI Removal:</a><a id="After-CLI-Removal:-1"></a><a class="docs-heading-anchor-permalink" href="#After-CLI-Removal:" title="Permalink"></a></h1><p>Once you have created your parameter file (<code>parameters.toml</code>), you must create a separate YAML configuration file (<code>config.yaml</code>). In the config file, enter:</p><pre><code class="nohighlight hljs">toml: parameters.toml</code></pre><p>In order to run the model, type: <code>julia --project=examples --config_file config.yaml</code>. Note that the <code>--config_file</code> argument can take several config files, so if you have a separate config file you would like to use, you can simply add it to the end of the command line arguments. Alternatively, you can just add your TOML config to the existing config file.</p><h1 id="Pre-CLI-removal:"><a class="docs-heading-anchor" href="#Pre-CLI-removal:">Pre-CLI removal:</a><a id="Pre-CLI-removal:-1"></a><a class="docs-heading-anchor-permalink" href="#Pre-CLI-removal:" title="Permalink"></a></h1><p>To run the model, you can either initialize the model interactively from the Julia REPL or from the command-line. From the command-line at the top-level CA directory, just run <code>julia --project=examples --toml path/to/toml</code></p><p>If running the model interactively, you can change <code>ARGS</code> and append <code>[&quot;--toml&quot;, &quot;path/to/toml&quot;]</code>. Alternatively, you can create the <code>parsed_args</code> dictionary and manually alter it yourself: <code>parsed_args[&quot;toml&quot;] = &quot;path/to/toml&quot;</code>.</p><p>If you are just overriding a parameter, you can just create the model config and run the model!  If you adding a new parameter, you need to alter the <a href="[https:/github.com/CliMA/ClimaAtmos.jl/blob/main/src/parameters/Parameters.jl](https:/github.com/CliMA/ClimaAtmos.jl/blob/main/src/parameters/Parameters.jl#L13)">ClimaAtmosParameters</a> struct to include your parameter. This can temporarily be done at the top level if you need to test something quickly, but if you want to merge the code, it best to place your new parameter inside one of the nested parameter structs.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../config/">« Configuration</a><a class="docs-footer-nextpage" href="../api/">API »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.25 on <span class="colophon-date" title="Thursday 17 August 2023 04:19">Thursday 17 August 2023</span>. Using Julia version 1.8.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
